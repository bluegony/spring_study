<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">

<title>속담</title>
<script type="text/javascript"
	src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
<style type="text/css">
<!--
#proverb {
	font-size: 30pt;
	font-weight: bold;
	background: yellow;
}

em {
	color: blue;
	font-style: normal;
}
-->
</style>

<script type="text/javascript">
<!--

var proverbs = new Array();
var num =1;
var nextnum = 1;

	$(function() {
		// 속담을 변경한다
		$("#changeProverbBtn").click(function() {
			change();
		});

		// 속담표시/비표시 토글
		$("#showHideBtn").toggle(function() {
			$("#proverb:not(:animated)").hide("slow");
			$("#showHideBtn").val("속담 표시");
		}, function() {
			$("#proverb:not(:animated)").show("slow");
			$("#showHideBtn").val("속담 삭제");
		})


		init()
		pprompt();
	});
	
	function init(){
		$.ajax({
			url:'proverbs.json',
			dataType:'json',
			success:function (json){
				proverbs=json.proverbs;
			}
		})
	}
	

	function pprompt() {

		change();
		setTimeout("pprompt()", 2000);
	}
	
	function change(){
		while (num == nextnum ){
			nextnum = Math.floor(proverbs.length * Math.random());
		}
		num = nextnum;
		$("#proverb").html(proverbs[num]);
		
	}
	
// -->
</script>
</head>

<body bgcolor="#FFFFFF">

	<form name="form1">
		<p>
			<input type="button" id="changeProverbBtn" value="변경"> <input
				type="button" id="showHideBtn" value="속담 삭제">
		</p>
	</form>

	<h1>오늘의 속담</h1>
	<div id="proverb">
		<em>원숭이</em>도 나무에서 떨어질때가 있다.
	</div>

</body>
</html>